<div class="overflow-y-auto overflow-x-hidden relative ion-padding font-courierPrime">
  <div class="relative p-4">
    <button (click)="navigateToHome()" class="absolute right-5 top-[22px] text-gray-400 font-courierPrime">
      <ion-icon name="close" class="text-3xl"></ion-icon>
    </button>
  </div>

  <h2 class="text-center mt-7 mb-7 ml-2 mr-2">
    your {{ this.emotionName.toString().toLowerCase() }}, {{ this.eventName.toString().toLowerCase() }}{{
    this.genreName.toString().toLowerCase() !== 'none' ? ', ' +
    this.genreName.toString().toLowerCase() : '' }}
    playlist
  </h2>

  <ul class="flex flex-col gap-4 pb-20">
    @for (song of fillerRecommendation; track song; let i = $index) {
    <li class="flex items-center list-none justify-between bg-gray-800 rounded-lg shadow-md p-2">
      <div class="flex items-center">
        <input [(ngModel)]="song.isSelected" type="checkbox" class="w-7 h-7 checkbox checkbox-accent mr-2" />
        <img class="rounded-sm h-16 w-16 object-cover mr-2" [src]="song.song_image_url" [alt]="song.track_name" />
        <div class="flex-grow mr-2 w-56">
          <h3 class="m-0 p-0 font-courierPrime truncate flex flex-row items-center justify-center"><img
              src="Spotify_Primary_Logo_RGB_White.png" alt="Spotify Logo" class="h-5 w-5 mr-2" />
            {{ song.track_name }}
          </h3>
          <p class="truncate font-courierPrime text-gray-400">
            {{ song.artist }}
          </p>
        </div>
      </div>
      @if(song.preview_url) {
      <button (click)="togglePlayPause(i)">
        <ion-icon [name]="isPlaying(i) ? 'pause' : 'play'" class="text-accent text-3xl"></ion-icon>
      </button>
      }
    </li>
    }
  </ul>
</div>
<div class="text-center mt-4">
  <footer class="fixed bottom-0 left-0 z-20 w-full transparent-footer pt-4">
    @if (!isAdded) {
    <button class="btn btn-info font-courierPrime font-thin text-white p-2 mb-2" (click)="my_modal_3.showModal()">
      create
      <img src="/Spotify_Full_Logo_RGB_White.png" alt="Spotify Logo" height="80px" width="80px" class="mb-[0.15rem]" />
      playlist
    </button>
    } @else {
    <a [href]="spotifyPlaylistUrl" target="_blank" class="btn btn-info font-courierPrime font-thin text-white p-2 mb-2">
      listen on
      <img src="/Spotify_Full_Logo_RGB_White.png" alt="Spotify Logo" height="80px" width="80px" class="mb-[0.15rem]" />
    </a>
    }
  </footer>


  <dialog #my_modal_3 id="my_modal_3" class="modal modal-middle">
    <div class="modal-box h-auto flex items-center justify-center">
      <form class="w-full" (submit)="$event.preventDefault()">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
          (click)="modal.nativeElement.close()">âœ•</button>
        <div class="flex flex-col gap-4 items-center">
          <img [src]="'lil-guys/'+ emotionName.toString().toLowerCase() + '.png'" alt="Emotion Image"
            class="rounded-md w-56 object-cover" />
          <label class="font-courierPrime font-thin">name your playlist:</label>
          <input type="text" [(ngModel)]="playlistName" name="playlistName"
            class="py-2 px-4 pe-11 block rounded-lg text-black font-courierPrime font-thin"
            placeholder="name your playlist..." />
          <button (click)="CreateSpotifyPlaylist(playlistName, true, recommendations)"
            class="btn btn-info font-courierPrime font-thin text-white py-2 px-16">add to <img
              src="/Spotify_Full_Logo_RGB_White.png" alt="Spotify Logo" height="80px" width="80px"
              class="mb-[0.15rem]" /></button>
        </div>
      </form>
    </div>
  </dialog>

</div>